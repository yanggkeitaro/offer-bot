# offer-bot
Telegram-бот для управления базой офферов в арбитражных командах. Реализует функции хранения, поиска, добавления и экспорта данных с разделением прав доступа (RBAC).

## Функциональность

### Система ролей
* **Superadmin:** Полный доступ к системе, управление администраторами, настройка канала для логов.
* **Admin:** Управление пользователями, генерация инвайт-ссылок.
* **Manager:** Добавление новых офферов в базу.
* **User:** Поиск и просмотр информации (только чтение).

### Работа с данными
* Парсинг текстовых строк при добавлении офферов (ПП, название, гео, ставка, аппрув, комментарий).
* Поддержка двух типов разделителей при вводе: дефис с пробелами (` - `) и длинное тире (`—`).
* Поиск по базе (`/check`) с выводом результатов списком.
* Экспорт полной базы данных в формат Excel (`.xlsx`).

### Администрирование
* Генерация одноразовых ссылок-приглашений для автоматической выдачи ролей.
* Массовая генерация инвайтов.
* Логирование действий (добавление офферов) в указанный чат или личные сообщения администратора.

## **Список команд**

| Команда | Описание | Необходимая роль |
| :---- | :---- | :---- |
| /start | Проверка статуса и отображение меню | Все роли |
| /check \[запрос\] | Поиск оффера по ключевым словам | Все роли |
| /add | Добавление оффера в базу | Manager, Admin, Superadmin |
| /del \[id\] | Удаление (скрытие) оффера по ID | Admin, Superadmin |
| /export | Выгрузка базы в файл .xlsx | Все роли |
| /invite \[role\] \[n\] | Создание ссылок-приглашений | Admin, Superadmin |
| /setlog | Установка текущего чата для получения логов | Superadmin |
| /users | Просмотр списка пользователей в базе | Superadmin |

## **Формат добавления данных**

Бот принимает данные одной строкой. В качестве разделителя используется \- (дефис с пробелами) или — (длинное тире).

Синтаксис:

/add ПП \- Оффер \- Гео \- Ставка \- Аппрув \- Комментарий

Пример:

/add 1win \- Aviator \- BR \- 45$ \- 30% \- Капа 50 фд  
